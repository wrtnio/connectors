import { Injectable } from '@nestjs/common'; import axios from 'axios'; @Injectable() export class UdemyProvider { async searchCourses(input: IUdemy.ISearchCoursesInput): Promise<IUdemy.ISearchCoursesOutput> { const response = await axios.get('https://api.udemy.com/courses', { params: { search: input.query }, headers: { Authorization: `Bearer ${input.apiKey}` }, }); return response.data; } async enrollCourse(input: IUdemy.IEnrollCourseInput): Promise<IUdemy.IEnrollCourseOutput> { const response = await axios.post(`https://api.udemy.com/courses/${input.courseId}/enroll`, {}, { headers: { Authorization: `Bearer ${input.apiKey}` }, }); return response.data; } async trackProgress(input: IUdemy.ITrackProgressInput): Promise<IUdemy.ITrackProgressOutput> { const response = await axios.get(`https://api.udemy.com/users/me/subscribed-courses/${input.courseId}/progress`, { headers: { Authorization: `Bearer ${input.apiKey}` }, }); return response.data; } }